<!DOCTYPE html> 
<html> 
<!-- The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only.  Any user of this code does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.
 
THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.
 
 
Authors in chronological order of contribution:
Tim Riedel
Presley Jones
 
Further Information:
http://cns.utexas.edu/fri
 
Research Educator:
Timothy Riedel
triedel@utexas.edu
 
Brief Description of Goal of Code:
 The goal of the code is to create a functioning web-based app that gives users insight into their medical condition by using a series of questions to calculate the chance the user has a cold, allergies, the flu, or COVID-19.
 
Known Issues:
There are no obvious issues that I can note.

https://www.w3schools.com/w3css/default.asp
https://stackoverflow.com/questions/8211128/multiple-distinct-pages-in-one-html-file
-->
	
<!-- below, until <script>, is important information that is documented, but will not be displayed on the page-->	
   <head> 
      <title>Hello World</title>  
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <link rel="stylesheet" href="w3.css">
      <link rel="stylesheet" href="w3-colors-flat.css">
   </head> 


<script>
	
// The following code lets you know when the file was last modified.
// This will help you know if you are looking at the new version of the file or if there is a delay on GitHub.
       var docMod = document.lastModified;
       alert("This file last modified  " + docMod);
       console.log("This file last modified  " + docMod);
// If you find the alert box annoying, comment out that line and timestamp will still show up in the debugging console
	

        var allergy_count = 0;
        var cold_count = 0;
	var flu_count = 0;
	var covid_count = 0;	
	var total_count = 0;   //These are the variables to calculate the count and the percentages in the following functions.
	

        function allergyAdd(point){   // This function is used to record the count of symptoms that indicate an allergy from the users button responses. Every time someone selects an allergy option, this function is used to add 1, 0.75, 0.5, or 0.25 (depending on the likelihood of having that symptom with allegies) to the total that is recorded.
            switch (point){  //adds multiple "branches" to the function so I don't have to make as many individuals functions to accomplish the same task.
		    case 1:
			allergy_count = allergy_count + 1.0;   //Adds 1 to allergy count total if symptom is "common" in allergies (according to the aafa symptoms sheet).
			    break;  //keeps each case seperated and from running more than one case when you call on one.
		    case 0.75:
			allergy_count = allergy_count + 0.75;  //Adds 0.75 to allergy count total if symptom is rare and the answer to the question is no.
			    break;
		    case 0.5:
			allergy_count = allergy_count + 0.5;  //Adds 0.5 to allergy count total if symptom is labeled as "sometimes" (aafa sheet) in its frequency in allergies.
			    break;
		    case 0.25:
			allergy_count = allergy_count + 0.25;  //Adds 0.25 to allergy count total if symptom is labeled as "rare" on the aafa symptoms sheet.
			    break;
	    }
        }	     

        function coldAdd(point){   // This function is used to record the count of symptoms that indicate a cold from the users button responses. Every time someone selects a cold option, this function is used to add 1, 0.75, 0.5, or 0.25 (depending on the likelihood of having that symptom with the cold) to the total that is recorded.
           switch (point){  // creates multiple branches for the singular function.
		    case 1:
			cold_count = cold_count + 1.0;  //Adds 1 to cold count total if symptom is "common" in colds
			    break;   //keeps each case seperated and from running more than one case when you call on one.
		   case 0.75:
			cold_count = cold_count + 0.75;  //Adds 0.75 to cold count total if symptom if rare and the answer to the question is no.
			    break;
		    case 0.5:
			cold_count = cold_count + 0.5;  //Adds 0.5 to cold count total if symptom is labeled as "sometimes" in its frequency in colds.
			    break;
		    case 0.25:
			cold_count = cold_count + 0.25;  //Adds 0.25 to cold count total if symptom is labeled as "rare" on the aafa symptoms sheet.
			    break;
	    }
        }
	
	function fluAdd(point){   // This function is used to record the count of symptoms that indicate the flu from the users button responses. Every time someone selects a flu option, this function is used to add 1, 0.75, 0.5, or 0.25 (depending on the likelihood of having that symptom with the flu) to the total that is recorded.
            switch (point){  //Provides branching for function
		    case 1:
			flu_count = flu_count + 1.0; //Adds 1 to flu count ("common" symptoms)
			    break;   //keeps each case seperated and from running more than one case when you call on one.
		    case 0.75:
			flu_count = flu_count + 0.75;  //Adds 0.75 to flu count ("Rare" symptoms and selected no)
			    break;
		    case 0.5:
			flu_count = flu_count + 0.5;  //Adds 0.5 to flu count ("sometimes" symptoms)
			    break;
		    case 0.25:
			flu_count = flu_count + 0.25;  //Adds 0.25 to flu count ("rare" symptoms)
			    break;
	    }
        }
	
	function covidAdd(point){   // This function is used to record the count of symptoms that indicate COVID-19 from the users button responses. Every time someone selects a COVID-19 option, this function is used to add 1, 0.75, 0.5, or 0.25 (depending on the likelihood of having that symptom with COVID-19) to the total that is recorded.
            switch (point){  //Creates branches for function
		    case 1:
			covid_count = covid_count + 1.0;  //Adds 1 to covid count("common" symptoms)
			    break;   //keeps each case seperated and from running more than one case when you call on one.
		    case 0.75:
			covid_count = covid_count + 0.75;  //Adds 0.75 to covid count ("Rare" symptoms and selected no)
			    break;
		    case 0.5:
			covid_count = covid_count + 0.5;  //Adds 0.5 to covid count ("sometimes" symptoms)
			    break;
		    case 0.25:
			covid_count = covid_count + 0.25;  //Adds 0.25 to covid count ("rare" symptoms)
			    break;
	    }	
        }
	//The function below adds all the counts together of the illnesses to give us a total value.
	 function totalAdd(){
		 total_count = (allergy_count + flu_count + covid_count + cold_count);
		 
	 }
	
	
	
			
	function allergyPercent(){   // with this functions, we can calculate the percentage of allergy by dividing the count of the allergy symptoms by the total count and then multiplying by 100.0.
		allergyPercent = (allergy_count/total_count)*100.0;
	
	}
		
	function coldPercent(){   // with this functions, we can calculate the percentage of cold by dividing the count of the cold symtom values by the total count and then multiplying by 100.0.
		coldPercent = (cold_count/total_count)*100.0;
	
	}	
	
	function fluPercent(){   // with this functions, we can calculate the percentage of the flu by dividing the count of the flu symptoms by the total count and then multiplying by 100.0.
		fluPercent = (flu_count/total_count)*100.0;
	
	}
	
	function covidPercent(){   // with this functions, we can calculate the percentage of COVID-19 by dividing the count of the covid symptoms by the total count and then multiplying by 100.0.
		covidPercent = (covid_count/total_count)*100.0;
	
	}
	
	
			
	function showResults(){  // This function displays the percent likelihood cold, allergy, flu, and COVID-19.
		totalAdd();  //It is important that this function is here in the showResults function above the Percent functions because the total must be added before the percent functions can use that value to divide with.
		coldPercent();
		allergyPercent();
		fluPercent();
		covidPercent();
		
		var resultText = document.getElementById("results");
	resultText.innerHTML = "Percent allergy = " + allergyPercent + "%" + "<br> Percent cold = " + coldPercent + "%" + "<br> Percent COVID-19 = " + covidPercent + "%" + "<br> Percent flu = " + fluPercent + "%";
		//The above line creates the words "Percent allergy =" and then gives the percent generated from the allergyPercent function and a percent sign, then there is a page break, and then the line "Percent cold =" with the percent generated from the coldPercent function and a percent sign (and so on for COVID-19 and the flu)
	}
// From the <style> marker to the </style> marker in the below section, this data creates the appearance and dimensions for the page.
  </script>
	
<style>	
.body {
     margin: 0em;
}

.page {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: -100vw;
    overflow-y: auto;
    z-index: 0;
    background-color: hsl(0,0%,100%);
}

  .page:target {
    left: 0vw;
    z-index: 1;
}
</style>

<body>
<div id="header" class="w3-container w3-flat-midnight-blue">  <!--This creates a header for the page and defines its type/appearance.-->
	<h1>COVID-19 or Other?</h1>    <!--This is the header of the first/home page. -->
</div>
	
<div id="content" class="w3-container">
	<p>Is it COVID-19, Allergies, a Cold, or the Flu? Answer a few short questions to find out!</p>
	<!--between the <p> and the <p> above is the first question on the home/introduction page --> 
	
	<a href="#one" class="w3-btn w3-grey w3-round"> Get Started </a>  <!-- this creates a grey and round button that syas "Get Started" and takes you to the next page when clicked -->
	<!-- The below two statements create sentences on the home page that state that this app is for the purpose of the DIY stream at UT and should not be used to actually assess any medical condition and that UT is not liable -->
	<p>The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at 		Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only. Any user of this code 			does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.</p>
 	
	<p>THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.</p>

<div class="page" id="one">   <!-- This creates the next page and names it as "one" -->
	<div id="header" class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 1</h1>   <!-- This creates the header of this page titling it "Question 1" -->
	</div>
	
    	<div id="content" class="w3-container">   <!--This line seperates the next line from the header and creates a new area for it -->
        	<p>How long have you been feeling ill?</p>  <!-- This line creates the question, "How long have you been feeling ill? -->
		<a href="#two" onclick="covidAdd(1);" class="w3-btn w3-black w3-round">7-25 Days</a>   <!-- This creates a button that says "7-25 Days", and when you click it, it adds 1 to the total count of covid symptoms-->
		<a href="#two" onclick="coldAdd(1);" class="w3-btn w3-black w3-round">Less than 14 Days</a>    <!--This creates a button that says "Less than 14 Days", and when you click it, it adds 1 to the total count of cold symptoms -->
    		<a href="#two" onclick="fluAdd(1);" class="w3-btn w3-black w3-round">7-14 Days</a>   <!--This creates a button that says "7-14 Days", and when you click it, it adds 1 to the total count of flu symptoms -->
		<a href="#two" onclick="allergyAdd(1);" class="w3-btn w3-black w3-round">Several Weeks</a>   <!--This creates a button that says "Several Weeks", and when you click it, it adds 1 to the total count of allergy symptoms -->
	</div>
</div>

<div class="page" id="two">   <!--This creates a page called "two"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 2</h1>   <!--This creates a header called "Question 2" -->
	</div>
	
	<div id="content" class="w3-container">   <!--This creates a section seperate fom the header -->
		<p>Have you been coughing? If so, what kind?</p>   <!--This adds the questions "Have you been coughing? If so, what kind?" to the context section -->
		<a href="#three" onclick="covidAdd(1); fluAdd(1); allergyAdd(0.25);" class="w3-btn w3-black w3-round">Yes (dry)</a>   <!-- This creates a button that says "yes(dry)", and when you click it, it adds to 1 the total count of covid and flu symptoms and 0.25 to allergy symptoms.-->
		<a href="#three" onclick="coldAdd(1);" class="w3-btn w3-black w3-round">Yes (mild)</a>  <!-- This creates a button that says "yes(mild)", and when you click it, it adds 1 to the total count of cold symptoms-->
		<a href="#three" onclick="allergyAdd(0.75);" class="w3-btn w3-black w3-round">No</a>   <!-- This creates a button that says "No", and when you click it, it adds 0.75 to the total count of allergy symptoms-->
	</div>
</div>	
	

<div class="page" id="three">   <!--This creates a page called "three"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 3</h1>   <!--This page is titled "Question 3" in its header -->
	</div>
	
	<div id="content" class="w3-container">   <!--This creates a section seperate fom the header, a "content" section -->
		<p>Are you experiencing shortness of breath?</p>   <!--This adds the question "Are you experiencing shortness of breath?" to the context section -->
		<a href="#four" onclick="covidAdd(0.5);" class="w3-btn w3-black w3-round">Yes</a>  <!--Creates a button called "Yes" that counts 0.5 towards covid when clicked-->
		<a href="#four" onclick="coldAdd(1); fluAdd(1); allergyAdd(1); covidAdd(0.5);" class="w3-btn w3-black w3-round">No</a>  <!--Creates a button called "No" that counts 1 towards allergy, flu, and cold when clicked, and counts 0.5 to covid.-->
		
	</div>
</div>	
	
<div class="page" id="four">   <!--This creates a page called "four"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 4</h1>   <!--This page is titled "Question 4" in its header -->
	</div>
	
	<div id="content" class="w3-container">    <!--This creates a section seperate fom the header, a "content" section -->
		<p>Have you been sneezing often?</p>    <!--This adds the question "Have you been sneezing often?" to the context section -->
		<a href="#five" onclick="allergyAdd(1); coldAdd(1);" class="w3-btn w3-black w3-round">Yes</a>   <!--Creates a button called "Yes" that counts 1 towards allergy and cold when clicked-->
		<a href="#five" onclick="covidAdd(1); fluAdd(1);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "No" that counts 1 towards flu and covid when clicked-->
		
	</div>
</div>	
	
<div class="page" id="five">   <!--This creates a page called "five"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 5</h1>   <!--This page is titled "Question 5" in its header -->
	</div>
	
	<div id="content" class="w3-container">    <!--This creates a section seperate fom the header, a "content" section -->
		<p>Do you have a runny or stuffy nose?</p>    <!--This adds the question "Do you have a runny or stuffy nose?" to the context section -->
		<a href="#six" onclick="coldAdd(1); allergyAdd(1); covidAdd(0.25); fluAdd(0.5);" class="w3-btn w3-black w3-round">Yes</a>   <!--Creates a button called "Yes" that counts 1 towards cold and allergy, 0.5 to flu, and 0.25 to covid when clicked-->
		<a href="#six" onclick="covidAdd(0.75); fluAdd(0.5);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "No" that counts 0.75 to covid and 0.5 to flu when clicked-->
		
	</div>
</div>	
	
<div class="page" id="six">   <!--This creates a page called "six"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 6</h1>   <!--This page is titled "Question 6" in its header -->
	</div>
	
	<div id="content" class="w3-container">     <!--This creates a section seperate fom the header, a "content" section -->
		<p>Do you have a sore throat?</p>     <!--This adds the question "Do you have a sore throat?" to the context section -->
		<a href="#seven" onclick="coldAdd(1); allergyAdd(0.50); covidAdd(0.5); fluAdd(0.5);" class="w3-btn w3-black w3-round">Yes</a>   <!--Creates a button called"Yes" that counts 1 towards cold and 0.5 towards covid, flu, and allergy when clicked-->
		<a href="#seven" onclick="allergyAdd(0.50); covidAdd(0.5); fluAdd(0.5);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "No" that counts 0.5 towards covid, flu, and allergy when clicked-->
		
	</div>
</div>	
	
<div class="page" id="seven">   <!--This creates a page called "seven"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 7</h1>   <!--This page is titled "Question 7" in its header -->
	</div>
	
	<div id="content" class="w3-container">      <!--This creates a section seperate fom the header, a "content" section -->
		<p>Are you experiencing or have you experienced a fever?</p>     <!--This adds the question "Are you experiencing or have you experienced a fever?" to the context section -->
		<a href="#eight" onclick="covidAdd(1); fluAdd(1);" class="w3-btn w3-black w3-round">Yes, a prolonged fever</a>   <!--Creates a button called "Yes, a prolonged fever" that counts 1 towards covid and flu when clicked-->
		<a href="#eight" onclick="coldAdd(1);" class="w3-btn w3-black w3-round">Yes, a short fever period</a>   <!--Creates a button called "Yes, a short fever period" that counts 1 towards cold when clicked-->
		<a href="#eight" onclick="allergyAdd(1);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "No" that counts 1 towards allergy when clicked-->
	</div>
</div>	
	
<div class="page" id="eight">   <!--This creates a page called "eight"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 8</h1>   <!--This page is titled "Question 8" in its header -->
	</div>
	
	<div id="content" class="w3-container">      <!--This creates a section seperate fom the header, a "content" section -->
		<p>Do you feel tired or weak?</p>     <!--This adds the question "Do you feel tired or weak?" to the context section -->
		<a href="#nine" onclick="fluAdd(1);  allergyAdd(0.5); covidAdd(0.5);" class="w3-btn w3-black w3-round">Yes</a>   <!--Creates a button called "Yes" that counts 1 towards flu and 0.5 to allergy and covid when clicked-->
		<a href="#nine" onclick="coldAdd(1); allergyAdd(0.5); covidAdd(0.5);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "No" that counts 1 towards cold and 0.5 to allergy and covid when clicked-->
	</div>
</div>	
	
<div class="page" id="nine">   <!--This creates a page called "nine"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 9</h1>   <!--This page is titled "Question 9" in its header -->
	</div>
	
	<div id="content" class="w3-container">      <!--This creates a section seperate fom the header, a "content" section -->
		<p>Are you experiencing headaches?</p>     <!--This adds the question "Are you experiencing headaches?" to the context section -->
		<a href="#ten" onclick="fluAdd(1); coldAdd(0.25); covidAdd(0.5); allergyAdd(0.5);" class="w3-btn w3-black w3-round">Yes</a>   <!--Creates a button called "Yes" that counts 1 towards flu, 0.5 to covid and allergy, and 0.25 towards cold when clicked-->
		<a href="#ten" onclick="coldAdd(0.75); covidAdd(0.5); allergyAdd(0.5);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "Yes" that adds 0.75 to cold and 0.5 to covid and allergy when clicked-->
	</div>
</div>	
	
<div class="page" id="ten">   <!--This creates a page called "ten"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 10</h1>   <!--This page is titled "Question 10" in its header -->
	</div>
	
	<div id="content" class="w3-container">      <!--This creates a section seperate fom the header, a "content" section -->
		<p>Are you experiencing body aches and pains?</p>     <!--This adds the question "Are you experiencing body aches and pains?" to the context section -->
		<a href="#eleven" onclick="coldAdd(1); fluAdd(1); covidAdd(0.5);" class="w3-btn w3-black w3-round">Yes</a>   <!--Creates a button called "Yes" that counts 1 towards flu and the cold, and 0.5 to covid when clicked-->
		<a href="#eleven" onclick="allergyAdd(1); covidAdd(0.5);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "No" that counts 1 towards allergy and 0.5 to covid when clicked-->
	</div>
</div>	
	
<div class="page" id="eleven">   <!--This creates a page called "eleven"-->
	<div class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Question 11</h1>   <!--This page is titled "Question 11" in its header -->
	</div>
	
	<div id="content" class="w3-container">      <!--This creates a section seperate fom the header, a "content" section -->
		<p>Are you experiencing diarrhea?</p>     <!--This adds the question "Are you experiencing diarrhea?" to the context section -->
		<a href="#twelve" onclick=" covidAdd(0.5);" class="w3-btn w3-black w3-round">Yes</a>   <!--Creates a button called "Yes" that counts 0.5 towards covid when clicked-->
		<a href="#twelve" onclick="fluAdd(0.5);" class="w3-btn w3-black w3-round">Yes (and the one sick is a child)</a>   <!--Creates a button called "Yes (and the one sick is a child)" that counts 0.5 towards flu when clicked-->
		<a href="#twelve" onclick="coldAdd(1); allergyAdd(1);covidAdd(0.5); fluAdd(0.5);" class="w3-btn w3-black w3-round">No</a>   <!--Creates a button called "No" that counts 0.5 towards covid and flu, and counts 1 to allergy and cold when clicked-->
	</div>
</div>	
			
<div class="page" id="twelve">   <!--This creates a page called "twelve"-->
	<div id="header" class="w3-container w3-flat-midnight-blue">    <!--This creates a header for the page and defines its type/appearance.-->
		<h1>Results</h1>  <!--This page is titled "Results" in its header -->
	
	</div>
	
	<div id="content" class="w3-container">    <!--This creates a section seperate fom the header, a "content" section -->
		<!--This is the result! -->
		<a onclick= "showResults(); google.charts.setOnLoadCallback(drawChart);"class="w3-btn w3-black">Click to get Results</a>   <!--Creates a button called "Results" that once clicked will give you the percentage chance you have a cold or its allergies based on your answers to the previous questions and put them in a pie chart-->
		<p id="results">Results Here</p>   <!--This is where the results from our earlier function are displayed -->
		<br>
		<br>
	<div id="piechart"></div>  <!--This creates a section seperate fom the content for a piechart -->
	<!--The couple lines of script below are laying the foundations for the pie chart to be made. -->
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

	<script type="text/javascript">
	// Load google charts
		google.charts.load('current', {'packages':['corechart']});
		//google.charts.setOnLoadCallback(drawChart);   <!--Copied to onclick for results button and muted. -->

	// The below function draws the chart and sets the chart values
	function drawChart() {
  	var data = google.visualization.arrayToDataTable([
  		['Illnesses', 'Percent Chance of Disease from Symptoms'],
  		['Allergies', allergyPercent],
  		['Flu', fluPercent],
  		['Cold', coldPercent],
  		['COVID-19', covidPercent],
		
	]);

  	//Adds a title and set the width and height of the chart
  	var options = {'title':'Type of Illness Likelihood', 'width':550, 'height':400};

  	// Display the chart inside the <div> element with id="piechart"
  	var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  	chart.draw(data, options);
}
</script>
		
	</div>
</div>	
	
  <!-- This produces the footer of every page, "DIY!" -->
<footer class="w3-bottom w3-container w3-flat-midnight-blue">
	<p>DIY!</p>
</footer>

</body>
</html>
